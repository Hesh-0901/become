<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Become — Ajouter un article</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#141414">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --bg: #161616;
      --card: #1F1F1F;
      --soft: #262626;
      --text: #F5F5F5;
      --muted: #9A9A9A;
      --accent: #C2A16A;
      --border: #2E2E2E;
      --radius: 16px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial;
      background: var(--bg);
      color: var(--text);
      padding: 16px;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .title {
      font-size: 16px;
      font-weight: 600;
      letter-spacing: 2px;
      color: var(--accent);
    }

    .container {
      max-width: 520px;
      margin: auto;
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px;
      border: 1px solid var(--border);
    }

    /* IMAGE UPLOAD */
    .image-box {
      background: var(--soft);
      border-radius: var(--radius);
      border: 1px dashed var(--border);
      aspect-ratio: 3 / 4;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      overflow: hidden;
      margin-bottom: 16px;
      position: relative;
    }

    .image-box img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }

    .image-placeholder {
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }

    .image-placeholder i {
      font-size: 24px;
      margin-bottom: 8px;
      display: block;
      color: var(--accent);
    }

    input[type="file"] {
      display: none;
    }

    /* FORM */
    .field {
      margin-bottom: 14px;
    }

    .field label {
      font-size: 12px;
      color: var(--muted);
      display: block;
      margin-bottom: 6px;
    }

    .field input,
    .field textarea {
      width: 100%;
      background: var(--soft);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px;
      color: var(--text);
      font-size: 13px;
      outline: none;
    }

    textarea {
      resize: none;
      height: 80px;
    }

    .btn {
      width: 100%;
      height: 44px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #1A1A1A;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

  </style>
</head>

<body>

  <div class="header">
    <div class="title">AJOUTER UN ARTICLE</div>
  </div>

  <div class="container">

    <!-- IMAGE -->
    <label class="image-box" for="imageInput">
      <img id="preview">
      <div class="image-placeholder" id="placeholder">
        <i class="fa-solid fa-image"></i>
        Télécharger & rogner la photo<br>
        <small>(ratio 3:4)</small>
      </div>
    </label>
    <input type="file" id="imageInput" accept="image/*">

    <!-- TITRE -->
    <div class="field">
      <label>Titre de l’article</label>
      <input type="text" id="title" placeholder="Ex: Veste Premium">
    </div>

    <!-- DESCRIPTION -->
    <div class="field">
      <label>Description</label>
      <textarea id="description" placeholder="Description courte et claire"></textarea>
    </div>

    <!-- STOCK -->
    <div class="field">
      <label>Stock disponible</label>
      <input type="number" id="stock" placeholder="Ex: 25">
    </div>

    <!-- BTN -->
    <button class="btn">
      <i class="fa-solid fa-cloud-arrow-up"></i>
      Publier l’article
    </button>

  </div>

<script>
  const input = document.getElementById("imageInput");
  const preview = document.getElementById("preview");
  const placeholder = document.getElementById("placeholder");

  input.addEventListener("change", () => {
    const file = input.files[0];
    if (!file) return;

    const img = new Image();
    img.onload = () => {
      // Canvas crop 3:4
      const canvas = document.createElement("canvas");
      const ctx = canvas.getContext("2d");

      const targetRatio = 3 / 4;
      let w = img.width;
      let h = img.height;

      if (w / h > targetRatio) {
        w = h * targetRatio;
      } else {
        h = w / targetRatio;
      }

      canvas.width = 600;
      canvas.height = 800;

      ctx.drawImage(
        img,
        (img.width - w) / 2,
        (img.height - h) / 2,
        w,
        h,
        0,
        0,
        canvas.width,
        canvas.height
      );

      preview.src = canvas.toDataURL("image/jpeg", 0.9);
      preview.style.display = "block";
      placeholder.style.display = "none";
    };

    img.src = URL.createObjectURL(file);
  });
</script>

</body>
</html>
